# 스프링MVC 

### MVC아키텍처 

- 모델 : 프레젠테이션 계층의 구성요소 정보를 담는다.  
- 뷰 : 화면 출력 로직을 담는다.  
- 컨트롤러 : 제어 로직을 담는다.  

세 가지 요소가 서로 협력해서 하나의 웹 요청을 처리하고 응답을 만들어낸다.

### MVC아키텍처

- 모델 : 프레젠테이션 계층의 구성요소 정보를 담는다.  
- 뷰 : 화면 출력 로직을 담는다.  
- 컨트롤러 : 제어 로직을 담는다.  

세 가지 요소가 서로 협력해서 하나의 웹 요청을 처리하고 응답을 만들어낸다.

프론트 컨트롤러 패턴 : 중앙집중형 컨트롤러를 프레젠테이션 계층의 제일 앞에 둬서 서버로 들어오는 모든 요청을 먼저 받아서 처리하게 만든다.  
클라이언트가 보낸 요청을 받아서 공통적인 작업을 먼저 수행한 후에, 적절한 세부 컨트롤러로 작업을 위임해주고, 클라이언트에게 보낼 뷰를 선택해서 최종 결과를 생성하는 등의 작업을 수행한다.

### HTTP요청부터 HTTP응답까지의 과정
1. DispatcherServlet의 HTTP 요청 접수  
자바 서버의 서블릿 컨테이너는 HTTP프로토콜을 통해 들어오는 요청이 스프링의 DispatcherServlet에 할당된 것이라면, http 요청정보를 DispatcherServlet에 전달해준다.
예를 들어, web.xml에 다음과 같이 되어있다면
```
<servlet-mapping>
	<servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
	<url-pattern>/app/*</url-pattern>
</servlet-mapping>
```
이 서블릿 매핑은 /app으로 시작하는 모든 요청을 스프링의 프론트 컨트롤러인 DispatcherServlet에게 할당해주는 것이다.
DispatcherServlet은 모든 요청에 대해 공통적으로 진행해야하는 전처리 작업이 등록된 것이 있다면 이를 먼저 수행한다. (보안, 파라미터 조작, 한글 디코딩 등)

2. DispatcherServlet에서 컨트롤러로 HTTP요청 위임  
DispatcherServlet은 URL이나 파라미터 정보, HTTP명령 등을 참고로 해서 어떤 컨트롤러에게 작업을 위임할지 결정한다. 컨트롤러를 선정하는 것은 DispatcherServlet의 핸들러 매핑 전략을 이용한다.
핸들러는 스프링에서 컨트롤러를 의미한다.(요청을 다룬다는 의미). 어떤 컨트롤러가 요청을 처리하게 할지를 결정했다면, 해당 컨트롤러 오브젝트의 메소드를 호출해서 실제로 웹 요청을 처리하는 작업을 위임할 차례다. DispatcherServlet은 어떤 종류의 오브젝트라도 컨트롤러로 사용할 수 있다. 다만, 제각각 다른 메소드와 포맷을 가진 컨트롤러를 알아서 호출하게 만들기 위하여 중간에 어댑터를 이용하여 호출한다.
