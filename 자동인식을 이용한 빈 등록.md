# 자동인식을 이용한 빈 등록

빈으로 사용될 클래스에 특별한 애노테이션을 부여해주면 이런 클래스를 자동으로 찾아서 빈으로 등록해주게 할 수 있다.  
이런 방식을 빈 스캐닝을 통한 자동인식 빈 등록기능이라고 하고, 이런 스캐닝 작업을 담당하는 오브젝트를 빈 스캐너라고 한다.  
스프링의 빈 스캐너는 지정된 클래스패스 아래에 있는 모든 패키지의 클래스를 대상으로 필터를 적용해서 빈 등록을 위한 클래스들을 선별해낸다.  
빈 스캐너에 내장된 디폴트 필터는 @Component 애노테이션이 또는 @Component를 메타 애노테이션으로 가진 애노테이션이 부여된 클래스를 선택하도록 되어있다.  
@Component처럼, 디폴트필터에 적용되는 애노테이션을 스테레오타입 애노테이션이라고 부른다.  
스테레오타입 애노테이션의 종류로는 @Repository, @Service, @Controller가 있다.  
또한, @Configuration클래스는 빈 스캐닝을 통해 빈으로 자동등록될 수 있는데, @Configuration의 메타 애노테이션에 @Component가 있기 때문에 빈 스캐너의 애노테이션 필터를 통과한다.  
@Configuration이 붙은 클래스가 메타정보로 사용될 때 자신도 빈으로 등록된다는 걸 생각해보면, 빈 스캐닝을 통한 자동등록 대상이 되는 것은 자연스럽다.  

AnnotationConfigApplicationContext는 빈 스캐너를 내장하고 있는 애플리케이션컨텍스트 구현 클래스다.(@ComponentScan을 @Configuration클래스에 붙이지 않아도 가능?)

### 자동스캔의 장점
애노테이션을 부여하고 자동스캔으로 빈을 등록하면 복잡한 XML 문서 생성과 관리에 따르는 수고를 덜어주고 개발 속도를 향상시킬 수 있다.

### 자동스캔의 단점
애플리케이션에 등록될 빈이 어떤 것들이 있고, 그 정의는 어떻게 되는지를 한눈에 파악할 수 없다.  물론, 빈의 개수가 많아지면 XML 문서를 보고 전체 애플리케이션의 구성을 간단히 파악하기는 어렵다.  
그래도 누군가 책임을 지고 애플리케이션을 구성하는 빈과 의존관계, 설정 등을 통제하고 관리하는데는 XML이 분명 유리하다.
또 ,빈 스캔에 의해 자동등록되는 빈은 XML처럼 상세한 메타정보 항목을 지정할 수 없고, 클래스당 한 개 이상의 빈을 등록할 수 없다는 제한이 있다.(하지만, 대부분의 빈은 디폴트 메타정보 항목이면 충분하니 크게 문제될 것은 없고, 빈 이름, 스코프 같은 빈 메타정보 항목은 스테레오타입 애노테이션의 엘리먼트나 기타 애노테이션을 이용해 변경할 수도 있다.)  또한, 의존관계 변경시에 java소스의 재배포가 필요하다.

#### 개발과 테스트 중에는 빈 스캐너에 의한 자동인식 방식을 사용하지만 ,인수 테스트나 운영시점에는 XML을 이용한 빈 설정 메타정보를 사용하도록 만드는 것도 방법이다.
